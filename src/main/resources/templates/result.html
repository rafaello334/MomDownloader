<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<title>Result</title>
</head>
<body style="margin-left: 20px;">
	
<div th:if="${#maps.size(downloadedFilesMap)} != 0">
	<h1>You have downloaded successfully <span th:text="${#maps.size(downloadedFilesMap)}"></span> XML files</h1>

	<table class="table" >
		<thead>
			<tr>
				<th>File name</th>
				<th>OrderID</th>
			</tr>
		</thead>
		<tbody>
			<tr th:each="instance : ${downloadedFilesMap}">
				<td><a th:href = "@{/fileDetails(fileName=${instance.key.fileName})}" th:text="${instance.key.fileName}"></a></td>
				<td><span th:text="${instance.key.orderID}"></span></td>
			</tr>
		</tbody>
	</table>
</div>

<div th:if="${emptyOrder} == true">
	<h2>There are no messages for order : <span th:text="${orderID}"></span></h2>
</div>

<div th:if="${#maps.size(downloadedFilesMap)} == 0">
	<h2>There are no downloaded files</h2>
</div>

<div th:if="${error} == true">
	<h3>Errors occur while downloading: <span th:text="${message}"></span></h3>
</div>

<a class="btn btn-primary" th:href = "@{/}">Main page</a>

</body>
</html>